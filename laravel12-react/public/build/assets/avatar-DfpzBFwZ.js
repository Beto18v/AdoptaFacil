import{r as i,j as l}from"./app-C9a0Z2GV.js";import{c as w,a as I,u as g}from"./index-BT6umcoc.js";import{P as d,c as v}from"./index-wTHh6_rQ.js";var f="Avatar",[b,M]=w(f),[C,A]=b(f),p=i.forwardRef((a,e)=>{const{__scopeAvatar:n,...t}=a,[o,r]=i.useState("idle");return l.jsx(C,{scope:n,imageLoadingStatus:o,onImageLoadingStatusChange:r,children:l.jsx(d.span,{...t,ref:e})})});p.displayName=f;var x="AvatarImage",S=i.forwardRef((a,e)=>{const{__scopeAvatar:n,src:t,onLoadingStatusChange:o=()=>{},...r}=a,u=A(x,n),s=N(t,r.referrerPolicy),c=I(m=>{o(m),u.onImageLoadingStatusChange(m)});return g(()=>{s!=="idle"&&c(s)},[s,c]),s==="loaded"?l.jsx(d.img,{...r,ref:e,src:t}):null});S.displayName=x;var L="AvatarFallback",j=i.forwardRef((a,e)=>{const{__scopeAvatar:n,delayMs:t,...o}=a,r=A(L,n),[u,s]=i.useState(t===void 0);return i.useEffect(()=>{if(t!==void 0){const c=window.setTimeout(()=>s(!0),t);return()=>window.clearTimeout(c)}},[t]),u&&r.imageLoadingStatus!=="loaded"?l.jsx(d.span,{...o,ref:e}):null});j.displayName=L;function N(a,e){const[n,t]=i.useState("idle");return g(()=>{if(!a){t("error");return}let o=!0;const r=new window.Image,u=s=>()=>{o&&t(s)};return t("loading"),r.onload=u("loaded"),r.onerror=u("error"),r.src=a,e&&(r.referrerPolicy=e),()=>{o=!1}},[a,e]),n}var R=p,_=S,h=j;function P({className:a,...e}){return l.jsx(R,{"data-slot":"avatar",className:v("relative flex size-8 shrink-0 overflow-hidden rounded-full",a),...e})}function F({className:a,...e}){return l.jsx(_,{"data-slot":"avatar-image",className:v("aspect-square size-full object-cover",a),...e})}function z({className:a,...e}){return l.jsx(h,{"data-slot":"avatar-fallback",className:v("flex size-full items-center justify-center rounded-full bg-muted",a),...e})}export{P as A,F as a,z as b};
