import{j as e,r as m,L as v}from"./app-C9a0Z2GV.js";import{C as y}from"./chatbot-widget-C2Trs96c.js";import{H as w,F as k}from"./header-CCcCHfpA.js";import{A as C,a as L,b as P}from"./avatar-DfpzBFwZ.js";import{B as j}from"./button-Cd7vGOiK.js";import{S as M}from"./shield-check-CyHsau4_.js";import{H as S}from"./heart-BxOGmohM.js";import{I as b}from"./input-DOoS4fzs.js";import{L as f}from"./label-CyhaV5PO.js";import{L as F}from"./list-filter-BznbEhdY.js";import{T}from"./theme-switcher-D1-KvWmV.js";import{a as I}from"./carousel-modal-uN5_AuG7.js";import"./Logo-BWfBvknf.js";import"./LogoWhite-CZ6C_-JM.js";import"./index-wTHh6_rQ.js";import"./index-BT6umcoc.js";import"./createLucideIcon-CDVaj1tW.js";import"./badge-BgUZm6Q0.js";import"./input-error-CeM_PcsI.js";import"./checkbox-BcreT0B1.js";import"./index-DK3AijET.js";import"./select-BInn26Nf.js";import"./index-D-6MT3mC.js";import"./textarea-DiWvSn8D.js";import"./x-CWg9G-ba.js";import"./share-2-ZULob4Io.js";import"./chevron-right-BY3h9dfG.js";import"./star-BMHOTlT3.js";import"./user-JEmZ2skp.js";import"./phone-W2zOltnV.js";import"./shopping-cart-DrVdqaj3.js";function A({nombre:r,shelter:i,descripcion:n,precio:l,imageUrl:p,user:t,onImageClick:x,onViewDetails:o}){var h;return e.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg transition-all hover:shadow-xl",children:[e.jsx("div",{className:"cursor-pointer",onClick:x,children:e.jsx("img",{src:p,alt:r,width:400,height:300,className:"h-60 w-full object-cover transition-all group-hover:scale-105"})}),e.jsxs("div",{className:"p-4 dark:bg-gray-900 dark:text-gray-200",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:r}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:n}),e.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(M,{className:"mr-1.5 h-4 w-4 text-green-500"}),e.jsxs(C,{className:"mr-2 h-6 w-6",children:[e.jsx(L,{src:t!=null&&t.avatar?`/storage/${t.avatar}`:void 0,alt:t==null?void 0:t.name}),e.jsx(P,{className:"text-xs",children:((h=t==null?void 0:t.name)==null?void 0:h.substring(0,2).toUpperCase())||"AL"})]}),e.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Vendido por: ",i]})]})]}),e.jsx(j,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-20",children:e.jsx(S,{className:"h-5 w-5 text-gray-500 hover:fill-red-500 hover:text-red-500"})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsxs("p",{className:"text-lg font-bold text-blue-600 dark:text-blue-500",children:["$",l?l.toLocaleString("es-CO"):"0"]}),e.jsx(j,{size:"sm",className:"z-20 bg-blue-600 hover:bg-blue-700 dark:bg-blue-400",onClick:o,children:"Ver detalle"})]})]})]})}function H({onFilterChange:r,currentFilters:i,priceRange:n}){return e.jsxs("div",{className:"sticky top-24 rounded-xl bg-white p-6 shadow-lg dark:bg-gray-900",children:[e.jsxs("h3",{className:"mb-6 flex items-center text-lg font-bold",children:[e.jsx(F,{className:"mr-2 h-5 w-5"}),"Filtros"]}),e.jsxs("div",{className:"grid gap-8",children:[e.jsxs("div",{className:"grid gap-2",children:[e.jsx(f,{htmlFor:"search",className:"font-semibold",children:"Buscar"}),e.jsx(b,{id:"search",placeholder:"Buscar productos...",value:i.searchTerm,onChange:l=>r("searchTerm",l.target.value)})]}),e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(f,{htmlFor:"price",className:"font-semibold",children:"Precio máximo"}),e.jsxs("span",{className:"font-medium text-blue-600 dark:text-blue-400",children:["$",i.priceLimit?i.priceLimit.toLocaleString("es-CO"):"0"]})]}),e.jsx(b,{id:"price",type:"range",min:n[0],max:n[1],value:i.priceLimit,step:5e3,onChange:l=>r("priceLimit",Number(l.target.value)),className:"h-2 w-full cursor-pointer appearance-none rounded-lg bg-gray-200 dark:bg-gray-700"})]})]})]})}function O(){return e.jsx("section",{className:"relative bg-gradient-to-r from-green-400 to-blue-500 py-20 pt-35 dark:from-green-600 dark:to-blue-700",children:e.jsxs("div",{className:"relative container mx-auto px-4 text-center text-white",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl lg:text-6xl",children:"Explora productos"}),e.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-200",children:"Descubre artículos para mascotas, desde alimento y juguetes hasta accesorios y servicios veterinarios, todo en un solo clic."})]})})}function he({productos:r=[]}){const[i,n]=m.useState(!1),[l,p]=m.useState(0),t=m.useMemo(()=>r.map(s=>{var a,c;return{id:s.id,type:"product",nombre:s.nombre||"",category:"Productos",precio:s.precio||0,imageUrl:s.imagen?`/storage/${s.imagen}`:"https://images.unsplash.com/photo-1591946614725-3b9b0d5b248b?q=80&w=400",descripcion:s.descripcion||"",seller:((a=s.user)==null?void 0:a.name)||"Usuario",shelter:((c=s.user)==null?void 0:c.name)||"Usuario",user:s.user}}),[r]),x=m.useMemo(()=>{const s=Array.from(new Set(t.map(d=>d.category))),a=t.map(d=>d.precio),c=a.length>0?Math.max(...a):15e4;return{categories:s,priceRange:[0,c]}},[t]),[o,h]=m.useState({searchTerm:"",category:"Todas",priceLimit:x.priceRange[1]}),N=(s,a)=>{h(c=>({...c,[s]:a}))},u=s=>{p(s),n(!0)},g=m.useMemo(()=>t.filter(s=>{const a=(s.nombre||"").toLowerCase().includes((o.searchTerm||"").toLowerCase()),c=o.category==="Todas"||s.category===o.category,d=s.precio<=o.priceLimit;return a&&c&&d}),[o,t]);return e.jsxs("div",{className:"flex min-h-screen flex-col bg-white dark:bg-gray-800",children:[e.jsx(v,{title:"Productos"}),e.jsx(w,{}),e.jsxs("main",{className:"flex-1",children:[e.jsx(O,{}),e.jsx("div",{className:"container mx-auto px-4 py-12 md:px-6 md:py-16",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-4",children:[e.jsx("aside",{className:"lg:col-span-1",children:e.jsx(H,{priceRange:x.priceRange,onFilterChange:N,currentFilters:o})}),e.jsx("section",{className:"lg:col-span-3",children:e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-3",children:g.length>0?g.map((s,a)=>e.jsx(A,{...s,onImageClick:()=>u(a),onViewDetails:()=>u(a)},s.id)):e.jsx("p",{className:"col-span-full py-16 text-center text-gray-500",children:t.length===0?"No hay productos disponibles aún.":"No se encontraron productos con estos filtros."})})})]})})]}),e.jsx(k,{}),e.jsx(T,{hasChatbot:!0}),e.jsx(y,{}),e.jsx(I,{isOpen:i,onClose:()=>n(!1),items:g,initialIndex:l})]})}export{he as default};
