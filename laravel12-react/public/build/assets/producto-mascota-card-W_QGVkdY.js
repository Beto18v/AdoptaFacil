import{K as b,j as e}from"./app-C9a0Z2GV.js";import{A as c,a as d,b as x}from"./avatar-DfpzBFwZ.js";import{S as f}from"./shopping-cart-DrVdqaj3.js";import{H as j}from"./heart-BxOGmohM.js";import{c as v}from"./createLucideIcon-CDVaj1tW.js";import{T as N}from"./trash-2-C3AMxhCd.js";import"./index-BT6umcoc.js";import"./index-wTHh6_rQ.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],y=v("Pencil",k);function U({item:a,onDelete:p,onEdit:h,onAction:t}){var l,n,i;const{auth:m}=b().props,s=m.user,r=s.role==="aliado"&&s.id===a.user_id,o=s.role==="admin",g=!r&&!o,u=()=>{a.tipo,t(a)};return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"group relative flex transform flex-col overflow-hidden rounded-xl bg-white text-gray-800 shadow-lg transition-all duration-300 hover:scale-105 hover:shadow-2xl dark:bg-gray-800 dark:text-gray-200",children:[e.jsxs("div",{className:"relative h-48 w-full",children:[e.jsx("img",{src:a.imagen?`/storage/${a.imagen}`:"https://via.placeholder.com/300",alt:a.nombre,className:"h-full w-full object-cover transition-transform duration-500 group-hover:scale-110"}),e.jsx("span",{className:`absolute top-2 right-2 inline-block rounded-full px-3 py-1 text-xs font-bold ${a.tipo==="producto"?"bg-blue-100 text-blue-800 dark:bg-blue-900/70 dark:text-blue-300":"bg-pink-100 text-pink-800 dark:bg-pink-900/70 dark:text-pink-300"}`,children:a.tipo.charAt(0).toUpperCase()+a.tipo.slice(1)})]}),e.jsxs("div",{className:"flex flex-grow flex-col p-4",children:[e.jsx("h3",{className:"mb-1 text-lg font-bold text-gray-900 dark:text-white",children:a.nombre}),e.jsx("p",{className:"mb-4 line-clamp-2 flex-grow text-sm text-gray-600 dark:text-gray-400",children:a.descripcion}),e.jsx("div",{className:"mb-4 text-xl font-semibold text-green-600 dark:text-green-400",children:a.tipo==="producto"?a.precio!==null&&a.precio!==void 0?`$${a.precio.toLocaleString("es-CO")}`:"Precio no disponible":"En AdopciÃ³n"}),e.jsx("div",{className:"mb-3 border-t border-gray-200 pt-3 dark:border-gray-700",children:r?e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs(c,{className:"h-6 w-6",children:[e.jsx(d,{src:s!=null&&s.avatar?`/storage/${s.avatar}`:void 0,alt:s==null?void 0:s.name}),e.jsx(x,{className:"text-xs",children:((l=s==null?void 0:s.name)==null?void 0:l.substring(0,2).toUpperCase())||"TU"})]}),e.jsxs("span",{children:["Publicado por ",e.jsx("span",{className:"font-semibold",children:"ti"})]})]}):((n=a.user)==null?void 0:n.name)&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs(c,{className:"h-6 w-6",children:[e.jsx(d,{src:(i=a.user)!=null&&i.avatar?`/storage/${a.user.avatar}`:void 0,alt:a.user.name}),e.jsx(x,{className:"text-xs",children:a.user.name.substring(0,2).toUpperCase()})]}),e.jsxs("span",{children:["Publicado por: ",e.jsx("span",{className:"font-semibold",children:a.user.name})]})]})}),e.jsx("div",{className:"mt-auto",children:g?e.jsx("button",{onClick:u,className:"flex w-full items-center justify-center gap-2 rounded-lg bg-indigo-600 px-4 py-2 font-semibold text-white transition hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:outline-none",children:a.tipo==="producto"?e.jsxs(e.Fragment,{children:[e.jsx(f,{className:"h-5 w-5"})," Comprar"]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"h-5 w-5"})," Adoptar"]})}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-500",children:r?"Tus acciones:":"Acciones de Admin:"}),e.jsxs("div",{className:"flex gap-2",children:[r&&e.jsx("button",{onClick:()=>h(a),className:"rounded-full p-2 text-blue-500 transition hover:bg-blue-100 dark:hover:bg-blue-900/50","aria-label":"Editar",children:e.jsx(y,{className:"h-5 w-5"})}),(o||r)&&e.jsx("button",{onClick:()=>p(a),className:"rounded-full p-2 text-red-500 transition hover:bg-red-100 dark:hover:bg-red-900/50","aria-label":"Eliminar",children:e.jsx(N,{className:"h-5 w-5"})})]})]})})]})]})})}export{U as default};
