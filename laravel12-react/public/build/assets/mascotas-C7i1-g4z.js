import{r as n,j as e,L as M}from"./app-C9a0Z2GV.js";import{C as A}from"./chatbot-widget-C2Trs96c.js";import{H as S,F as T}from"./header-CCcCHfpA.js";import{A as P,a as I,b as L}from"./avatar-DfpzBFwZ.js";import{B as C}from"./button-Cd7vGOiK.js";import{u as G,b as z,F as $,a as H}from"./carousel-modal-uN5_AuG7.js";import{S as B}from"./shield-check-CyHsau4_.js";import{H as U}from"./heart-BxOGmohM.js";import{T as _}from"./theme-switcher-D1-KvWmV.js";import{X as O}from"./x-CWg9G-ba.js";import{c as E}from"./createLucideIcon-CDVaj1tW.js";import{C as q}from"./circle-check-big-DCinNtse.js";import"./Logo-BWfBvknf.js";import"./LogoWhite-CZ6C_-JM.js";import"./index-wTHh6_rQ.js";import"./index-BT6umcoc.js";import"./badge-BgUZm6Q0.js";import"./input-error-CeM_PcsI.js";import"./checkbox-BcreT0B1.js";import"./index-DK3AijET.js";import"./input-DOoS4fzs.js";import"./label-CyhaV5PO.js";import"./select-BInn26Nf.js";import"./index-D-6MT3mC.js";import"./textarea-DiWvSn8D.js";import"./share-2-ZULob4Io.js";import"./chevron-right-BY3h9dfG.js";import"./star-BMHOTlT3.js";import"./user-JEmZ2skp.js";import"./phone-W2zOltnV.js";import"./shopping-cart-DrVdqaj3.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],R=E("CircleAlert",D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],J=E("Info",V);function Q({id:c,name:i,especie:x,raza:m,edad:u,descripcion:r,imageUrl:g,shelter:h,sexo:o,ciudad:t,user:l,onImageClick:d,onViewDetails:j}){var f;const[v,b]=n.useState(!1),{isFavorite:k,toggleFavorite:N,isLoading:y,isInitialized:s}=G(),a=async w=>{if(w.stopPropagation(),!s){console.log("Contexto de favoritos no inicializado aÃºn");return}await N(c)},p=k(c);return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"group relative overflow-hidden rounded-lg shadow-lg transition-all hover:shadow-xl",children:[e.jsx("div",{className:"cursor-pointer",onClick:d,children:e.jsx("img",{src:g,alt:i,width:400,height:300,className:"h-60 w-full object-cover transition-all group-hover:scale-105"})}),e.jsxs("div",{className:"bg-white p-4 dark:bg-gray-900",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[x," ",m&&`â€¢ ${m}`]}),e.jsx("h3",{className:"text-lg font-semibold",children:i}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:[u," ",u===1?"aÃ±o":"aÃ±os"]}),o&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:o}),t&&e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:["ðŸ“ ",t]}),e.jsx("p",{className:"mt-1 line-clamp-2 text-xs text-gray-500 dark:text-gray-400",children:r}),e.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500 dark:text-gray-400",children:[e.jsx(B,{className:"mr-1.5 h-4 w-4 text-green-500"}),e.jsxs(P,{className:"mr-2 h-6 w-6",children:[e.jsx(I,{src:l!=null&&l.avatar?`/storage/${l.avatar}`:void 0,alt:l==null?void 0:l.name}),e.jsx(L,{className:"text-xs",children:((f=l==null?void 0:l.name)==null?void 0:f.substring(0,2).toUpperCase())||"AL"})]}),e.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:["Publicado por: ",h]})]})]}),e.jsx(C,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 z-20 bg-white/80 hover:bg-white/90 dark:bg-gray-800/80 dark:hover:bg-gray-800/90",onClick:a,disabled:y||!s,title:p?"Quitar de favoritos":"Agregar a favoritos",children:e.jsx(U,{className:`h-5 w-5 transition-all duration-200 ${p?"scale-110 fill-red-500 text-red-500":"text-gray-600 hover:scale-105 hover:text-red-500"} ${y?"animate-pulse opacity-50":""}`})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-green-600 dark:text-green-400",children:"Disponible para adopciÃ³n"}),e.jsx(C,{size:"sm",className:"z-20 bg-green-600 hover:bg-green-700",onClick:j,children:"Ver detalle"})]})]})]}),e.jsx(z,{show:v,onClose:()=>b(!1),mascota:{id:c,nombre:i,type:"pet"}})]})}function W(){return e.jsx("section",{className:"relative bg-gradient-to-r from-green-400 to-blue-500 py-20 pt-35 dark:from-green-600 dark:to-blue-700",children:e.jsxs("div",{className:"relative container mx-auto px-4 text-center text-white",children:[e.jsx("h1",{className:"text-4xl font-bold tracking-tight sm:text-5xl lg:text-6xl",children:"Conoce Mascotas"}),e.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-gray-200",children:"Ecuentra perros, gatos y otros animales en adopciÃ³n, con fichas detalladas, fotos y contacto directo con los refugios."})]})})}function X({message:c,type:i,onClose:x,duration:m=5e3}){n.useEffect(()=>{const g=setTimeout(()=>{x()},m);return()=>clearTimeout(g)},[m,x]);const u=()=>{switch(i){case"error":return e.jsx(R,{className:"h-5 w-5 text-red-500"});case"success":return e.jsx(q,{className:"h-5 w-5 text-green-500"});case"info":return e.jsx(J,{className:"h-5 w-5 text-blue-500"})}},r=()=>{switch(i){case"error":return"bg-red-50 border-red-200 dark:bg-red-900/10 dark:border-red-800";case"success":return"bg-green-50 border-green-200 dark:bg-green-900/10 dark:border-green-800";case"info":return"bg-blue-50 border-blue-200 dark:bg-blue-900/10 dark:border-blue-800"}};return e.jsxs("div",{className:`fixed top-4 right-4 z-50 flex items-center gap-3 rounded-lg border p-4 shadow-lg transition-all ${r()}`,children:[u(),e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:c}),e.jsx("button",{onClick:x,className:"ml-auto flex-shrink-0 rounded-lg p-1 hover:bg-gray-100 dark:hover:bg-gray-800",children:e.jsx(O,{className:"h-4 w-4"})})]})}function K(){const[c,i]=n.useState([]),x=(r,g)=>{const h=Math.random().toString(36).substring(7);i(o=>[...o,{id:h,message:r,type:g}])},m=r=>{i(g=>g.filter(h=>h.id!==r))};return{addNotification:x,NotificationContainer:()=>e.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:c.map(r=>e.jsx(X,{message:r.message,type:r.type,onClose:()=>m(r.id)},r.id))})}}function Ae({mascotas:c=[]}){const[i,x]=n.useState(!1),[m,u]=n.useState(0),{addNotification:r,NotificationContainer:g}=K(),h=()=>new URLSearchParams(window.location.search).get("especie")||"all",o=n.useMemo(()=>c.map(s=>{const a=[];return s.imagen&&a.push(`/storage/${s.imagen}`),s.images&&s.images.length>0&&s.images.forEach(p=>{const f=`/storage/${p.imagen_path}`;a.includes(f)||a.push(f)}),a.length===0&&a.push("https://images.unsplash.com/photo-1601758228041-f3b2795255f1?q=80&w=400"),{id:s.id,type:"pet",name:s.nombre,especie:s.especie,raza:s.raza,edad:s.edad,sexo:s.sexo,ciudad:s.ciudad,descripcion:s.descripcion,imageUrl:a[0],images:a,shelter:s.user.name,user:s.user}}),[c]),[t,l]=n.useState({searchTerm:"",selectedEspecie:"all",selectedEdad:"all",selectedCiudad:"all",selectedGenero:"all"});n.useEffect(()=>{const s=h();s!=="all"&&l(a=>({...a,selectedEspecie:s}))},[]);const d=(s,a)=>{l(p=>({...p,[s]:a}))},j=s=>{u(s),x(!0)},v=()=>{l({searchTerm:"",selectedEspecie:"all",selectedEdad:"all",selectedCiudad:"all",selectedGenero:"all"})},b=n.useMemo(()=>o.filter(s=>{const a=s.name.toLowerCase().includes(t.searchTerm.toLowerCase())||s.descripcion.toLowerCase().includes(t.searchTerm.toLowerCase()),p=t.selectedEspecie==="all"||s.especie===t.selectedEspecie,f=t.selectedEdad==="all"||t.selectedEdad==="joven"&&s.edad<=24||t.selectedEdad==="adulto"&&s.edad>24&&s.edad<=84||t.selectedEdad==="senior"&&s.edad>84,w=t.selectedCiudad==="all"||s.ciudad===t.selectedCiudad,F=t.selectedGenero==="all"||s.sexo===t.selectedGenero;return a&&p&&f&&w&&F}),[t,o]),k=n.useMemo(()=>Array.from(new Set(o.map(s=>s.especie))),[o]),N=n.useMemo(()=>Array.from(new Set(o.map(s=>s.ciudad))),[o]),y=t.selectedEspecie!=="all"||t.selectedEdad!=="all"||t.selectedCiudad!=="all"||t.selectedGenero!=="all";return e.jsx($,{showNotification:r,children:e.jsxs("div",{className:"flex min-h-screen flex-col bg-white dark:bg-gray-800",children:[e.jsx(M,{title:"Mascotas"}),e.jsx(S,{}),e.jsx(W,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 md:px-6 md:py-16",children:[e.jsxs("div",{className:"mb-8 flex flex-wrap items-center gap-4",children:[e.jsx("input",{type:"text",placeholder:"Buscar por nombre o descripciÃ³n...",value:t.searchTerm,onChange:s=>d("searchTerm",s.target.value),className:"flex-grow rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 sm:flex-grow-0 dark:border-gray-600 dark:bg-gray-700 dark:text-white"}),e.jsxs("select",{value:t.selectedEspecie,onChange:s=>d("selectedEspecie",s.target.value),className:"rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"Todas las especies"}),k.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:t.selectedCiudad,onChange:s=>d("selectedCiudad",s.target.value),className:"rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"Todas las ciudades"}),N.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsxs("select",{value:t.selectedEdad,onChange:s=>d("selectedEdad",s.target.value),className:"rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"Todas las edades"}),e.jsx("option",{value:"joven",children:"Joven (0-2 aÃ±os)"}),e.jsx("option",{value:"adulto",children:"Adulto (2-7 aÃ±os)"}),e.jsx("option",{value:"senior",children:"Senior (7+ aÃ±os)"})]}),e.jsxs("select",{value:t.selectedGenero,onChange:s=>d("selectedGenero",s.target.value),className:"rounded-lg border border-gray-300 px-4 py-2 focus:border-transparent focus:ring-2 focus:ring-blue-500 dark:border-gray-600 dark:bg-gray-700 dark:text-white",children:[e.jsx("option",{value:"all",children:"Todos los gÃ©neros"}),e.jsx("option",{value:"Macho",children:"Macho"}),e.jsx("option",{value:"Hembra",children:"Hembra"})]})]}),y&&e.jsxs("div",{className:"mb-6 flex flex-wrap items-center gap-x-4 gap-y-2",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Filtros Activos:"}),t.selectedEspecie!=="all"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-blue-100 px-3 py-1 text-sm text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[t.selectedEspecie,e.jsx("button",{onClick:()=>d("selectedEspecie","all"),className:"font-bold",children:"âœ•"})]}),t.selectedCiudad!=="all"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-green-100 px-3 py-1 text-sm text-green-800 dark:bg-green-900 dark:text-green-200",children:[t.selectedCiudad,e.jsx("button",{onClick:()=>d("selectedCiudad","all"),className:"font-bold",children:"âœ•"})]}),t.selectedEdad!=="all"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-yellow-100 px-3 py-1 text-sm text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:[t.selectedEdad,e.jsx("button",{onClick:()=>d("selectedEdad","all"),className:"font-bold",children:"âœ•"})]}),t.selectedGenero!=="all"&&e.jsxs("span",{className:"flex items-center gap-2 rounded-full bg-purple-100 px-3 py-1 text-sm text-purple-800 dark:bg-purple-900 dark:text-purple-200",children:[t.selectedGenero,e.jsx("button",{onClick:()=>d("selectedGenero","all"),className:"font-bold",children:"âœ•"})]}),e.jsx("button",{onClick:v,className:"text-sm font-semibold text-red-600 hover:underline dark:text-red-400",children:"Limpiar todos los filtros"})]}),e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:b.length>0?b.map((s,a)=>e.jsx(Q,{...s,onImageClick:()=>j(a),onViewDetails:()=>j(a)},s.id)):e.jsx("p",{className:"col-span-full py-16 text-center text-gray-500",children:o.length===0?"No hay mascotas disponibles para adopciÃ³n aÃºn.":"No se encontraron mascotas con estos filtros."})})]})}),e.jsx(T,{}),e.jsx(_,{hasChatbot:!0}),e.jsx(A,{}),e.jsx(g,{}),e.jsx(H,{isOpen:i,onClose:()=>x(!1),items:b,initialIndex:m})]})})}export{Ae as default};
